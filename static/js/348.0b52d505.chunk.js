"use strict";(self.webpackChunkinstello=self.webpackChunkinstello||[]).push([[348],{348:function(e,o,r){r.r(o),r.d(o,{default:function(){return Y}});var n=r(5671),s=r(3144),t=r(136),i=r(2882),a=r(2791),l=r(8687),u="ExplorePage_title__s2QZU",c="ExplorePage_search__zMOBi",g="ExplorePage_searchItem__U0+I-",p="ExplorePage_users__txZxO",h="ExplorePage_explore__YhrXj",d="ExplorePage_btn__jvIWy",P=r(885),f=r(5987),x="Paginator_paginator__gUC3d",m="Paginator_selected__VEuum",_="Paginator_pageNumber__WhUjW",N=r(184),j=["portionSize"],w=function(e){for(var o=e.portionSize,r=void 0===o?10:o,n=(0,f.Z)(e,j),s=Math.ceil(n.totalUsersCount/n.pageSize),t=[],i=1;i<s;i++)t.push(i);var l=Math.ceil(s/r),u=(0,a.useState)(n.portionNumber),c=(0,P.Z)(u,2),g=c[0],p=c[1],h=(g-1)*r+1,d=g*r;return(0,N.jsxs)("div",{className:x,children:[g>1&&(0,N.jsx)("button",{onClick:function(){p(g-1),n.setPortionNumber(g-1)},children:"PREV"}),t.filter((function(e){return e>=h&&e<=d})).map((function(e){return(0,N.jsx)("div",{className:n.currentPage===e?m:_,onClick:function(){return n.onPageChanged(e)},children:e},e)})),l>g&&(0,N.jsx)("button",{onClick:function(){p(g+1),n.setPortionNumber(g+1)},children:"NExt"})]})},b={userPhoto:"Users_userPhoto__--Ytl",userN:"Users_userN__1ei-W",explore:"Users_explore__TzGPU",userName:"Users_userName__hq2fN"},C=r(3504),U=r(3178),v=["user","index"],F=function(e){var o=e.user,r=e.index,n=(0,f.Z)(e,v);return(0,N.jsxs)("div",{className:b.userPhoto,children:[(0,N.jsxs)(C.OL,{to:"/profile/".concat(o.id),children:[(0,N.jsx)("img",{src:null!=o.photos.large?o.photos.small:r>8?U:n.usersPhotoData.filter((function(e,o){return r===o})),alt:""}),"/*\u0441\u043b\u043e\u0436\u043e, \u043d\u043e \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043d\u044f\u0442\u044c - \u044d\u0442\u043e \u043a\u0430\u0441\u0442\u044b\u043b\u044c */"]}),(0,N.jsxs)("div",{className:b.userN,children:[(0,N.jsx)("span",{className:b.userName,children:o.name}),(0,N.jsx)("span",{className:b.like,children:o.id}),(0,N.jsx)("span",{className:b.post,children:"u.post"}),(0,N.jsx)("br",{}),o.followed?(0,N.jsx)("button",{disabled:n.followingInProgress.some((function(e){return e===o.id})),onClick:function(){n.unFollow(o.id)},children:"Unfollow"}):(0,N.jsx)("button",{disabled:n.followingInProgress.some((function(e){return e===o.id})),onClick:function(){n.follow(o.id)},children:"Follow"})]})]})},k=r(6649),I=r(4761),D=function(e){return(0,N.jsxs)("div",{className:h,children:[(0,N.jsx)("span",{className:u,children:"Explore"}),(0,N.jsx)("div",{className:c,children:e.interestData.map((function(e){return(0,N.jsx)("div",{className:g,children:e},e)}))}),(0,N.jsx)(w,{currentPage:e.currentPage,onPageChanged:e.onPageChanged,totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,setPortionNumber:e.setPortionNumber,portionNumber:e.portionNumber}),e.isFetching&&(0,N.jsx)(k.Z,{}),(0,N.jsx)("div",{className:p,children:!e.isFetching&&e.users.map((function(o,r){return(0,N.jsx)(F,{user:o,index:r,usersPhotoData:e.usersPhotoData,followingInProgress:e.followingInProgress,unFollow:e.unFollow,follow:e.follow},o.id)}))}),(0,N.jsx)("button",{onClick:function(){return e.onAddPage()},className:d,children:"Load more.."})]})},z=r(7193),S=r(7781),Z=function(e){return e.explorePage.users},E=function(e){return e.explorePage.portionNumber},A=function(e){return e.explorePage.interestData},y=function(e){return e.explorePage.usersPhotoData},M=function(e){return e.explorePage.pageSize},W=function(e){return e.explorePage.totalUsersCount},O=function(e){return e.explorePage.currentPage},q=function(e){return e.explorePage.loadPage},G=function(e){return e.explorePage.isFetching},L=function(e){return e.explorePage.followingInProgress},V=function(e){(0,t.Z)(r,e);var o=(0,i.Z)(r);function r(e){var s;return(0,n.Z)(this,r),(s=o.call(this,e)).onAddPage=function(){s.props.getAddUsers(s.props.loadPage)},s.onPageChanged=function(e){s.props.getUsers(e,9)},s}return(0,s.Z)(r,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(D,{onPageChanged:this.onPageChanged,onAddPage:this.onAddPage,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,interestData:this.props.interestData,users:this.props.users,usersPhotoData:this.props.usersPhotoData,unFollow:this.props.unFollow,follow:this.props.follow,currentPage:this.props.currentPage,toggleIsFollowingProgress:this.props.toggleIsFollowingProgress,followingInProgress:this.props.followingInProgress,isFetching:this.props.isFetching,portionNumber:this.props.portionNumber,setPortionNumber:this.props.setPortionNumber})})}}]),r}(a.Component),Y=(0,S.qC)((0,l.$j)((function(e){return{users:Z(e),interestData:A(e),usersPhotoData:y(e),pageSize:M(e),totalUsersCount:W(e),currentPage:O(e),loadPage:q(e),isFetching:G(e),followingInProgress:L(e),portionNumber:E(e)}}),{follow:I.GF,unFollow:I.is,getUsers:I.Uk,getAddUsers:I.Iy,setPortionNumber:I.mx}),z.Z)(V)}}]);
//# sourceMappingURL=348.0b52d505.chunk.js.map